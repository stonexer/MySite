/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
(function(c,z,e,x){var i=e("html"),A=e(c),y=e(z),h=e.fancybox=function(){h.open.apply(this,arguments)},k=navigator.userAgent.match(/msie/i),u=null,m=z.createTouch!==x,d=function(b){return b&&b.hasOwnProperty&&b instanceof e},g=function(b){return b&&"string"===e.type(b)},o=function(b){return g(b)&&0<b.indexOf("%")},a=function(b,l){var f=parseInt(b,10)||0;l&&o(b)&&(f*=h.getViewport()[l]/100);return Math.ceil(f)},j=function(b,f){return a(b,f)+"px"};e.extend(h,{version:"2.1.5",defaults:{padding:[40,20,20,20],margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!m,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><a href="{href}" target="_blank" class="fancybox-org">查看原图</a><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(k?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:e.noop,beforeLoad:e.noop,afterLoad:e.noop,beforeShow:e.noop,afterShow:e.noop,beforeChange:e.noop,beforeClose:e.noop,afterClose:e.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,f){if(b&&(e.isPlainObject(f)||(f={}),!1!==h.close(!0))){return e.isArray(b)||(b=d(b)?e(b).get():[b]),e.each(b,function(t,v){var p={},s,r,q,l,n;"object"===e.type(v)&&(v.nodeType&&(v=e(v)),d(v)?(p={href:v.data("fancybox-href")||v.attr("href"),title:v.data("fancybox-title")||v.attr("title"),isDom:!0,element:v},e.metadata&&e.extend(!0,p,v.metadata())):p=v);s=f.href||p.href||(g(v)?v:null);r=f.title!==x?f.title:p.title||"";l=(q=f.content||p.content)?"html":f.type||p.type;!l&&p.isDom&&(l=v.data("fancybox-type"),l||(l=(l=v.prop("class").match(/fancybox\.(\w+)/))?l[1]:null));g(s)&&(l||(h.isImage(s)?l="image":h.isSWF(s)?l="swf":"#"===s.charAt(0)?l="inline":g(v)&&(l="html",q=v)),"ajax"===l&&(n=s.split(/\s+/,2),s=n.shift(),n=n.shift()));q||("inline"===l?s?q=e(g(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):p.isDom&&(q=v):"html"===l?q=s:!l&&(!s&&p.isDom)&&(l="inline",q=v));e.extend(p,{href:s,type:l,content:q,title:r,selector:n});b[t]=p}),h.opts=e.extend(!0,{},h.defaults,f),f.keys!==x&&(h.opts.keys=f.keys?e.extend({},h.defaults.keys,f.keys):!1),h.group=b,h._start(h.opts.index)}},cancel:function(){var b=h.coming;b&&!1!==h.trigger("onCancel")&&(h.hideLoading(),h.ajaxLoad&&h.ajaxLoad.abort(),h.ajaxLoad=null,h.imgPreload&&(h.imgPreload.onload=h.imgPreload.onerror=null),b.wrap&&b.wrap.stop(!0,!0).trigger("onReset").remove(),h.coming=null,h.current||h._afterZoomOut(b))},close:function(b){h.cancel();!1!==h.trigger("beforeClose")&&(h.unbindEvents(),h.isActive&&(!h.isOpen||!0===b?(e(".fancybox-wrap").stop(!0).trigger("onReset").remove(),h._afterZoomOut()):(h.isOpen=h.isOpened=!1,h.isClosing=!0,e(".fancybox-item, .fancybox-nav").remove(),h.wrap.stop(!0,!0).removeClass("fancybox-opened"),h.transitions[h.current.closeMethod]())))},play:function(b){var n=function(){clearTimeout(h.player.timer)},l=function(){n();h.current&&h.player.isActive&&(h.player.timer=setTimeout(h.next,h.current.playSpeed))},f=function(){n();y.unbind(".player");h.player.isActive=!1;h.trigger("onPlayEnd")};if(!0===b||!h.player.isActive&&!1!==b){if(h.current&&(h.current.loop||h.current.index<h.group.length-1)){h.player.isActive=!0,y.bind({"onCancel.player beforeClose.player":f,"onUpdate.player":l,"beforeLoad.player":n}),l(),h.trigger("onPlayStart")}}else{f()}},next:function(b){var f=h.current;f&&(g(b)||(b=f.direction.next),h.jumpto(f.index+1,b,"next"))},prev:function(b){var f=h.current;f&&(g(b)||(b=f.direction.prev),h.jumpto(f.index-1,b,"prev"))},jumpto:function(b,n,l){var f=h.current;f&&(b=a(b),h.direction=n||f.direction[b>=f.index?"next":"prev"],h.router=l||"jumpto",f.loop&&(0>b&&(b=f.group.length+b%f.group.length),b%=f.group.length),f.group[b]!==x&&(h.cancel(),h._start(b)))},reposition:function(b,f){var p=h.current,l=p?p.wrap:null,n;l&&(n=h._getPosition(f),b&&"scroll"===b.type?(delete n.position,l.stop(!0,!0).animate(n,200)):(l.css(n),p.pos=e.extend({},p.dim,n)))},update:function(b){var l=b&&b.type,f=!l||"orientationchange"===l;f&&(clearTimeout(u),u=null);h.isOpen&&!u&&(u=setTimeout(function(){var n=h.current;n&&!h.isClosing&&(h.wrap.removeClass("fancybox-tmp"),(f||"load"===l||"resize"===l&&n.autoResize)&&h._setDimension(),"scroll"===l&&n.canShrink||h.reposition(b),h.trigger("onUpdate"),u=null)},f&&!m?0:300))},toggle:function(b){h.isOpen&&(h.current.fitToView="boolean"===e.type(b)?b:!h.current.fitToView,m&&(h.wrap.removeAttr("style").addClass("fancybox-tmp"),h.trigger("onUpdate")),h.update())},hideLoading:function(){y.unbind(".loading");e("#fancybox-loading").remove()},showLoading:function(){var b,f;h.hideLoading();b=e('<div id="fancybox-loading"><div></div></div>').click(h.cancel).appendTo("body");y.bind("keydown.loading",function(l){if(27===(l.which||l.keyCode)){l.preventDefault(),h.cancel()}});h.defaults.fixed||(f=h.getViewport(),b.css({position:"absolute",top:0.5*f.h+f.y,left:0.5*f.w+f.x}))},getViewport:function(){var b=h.current&&h.current.locked||!1,f={x:A.scrollLeft(),y:A.scrollTop()};b?(f.w=b[0].clientWidth,f.h=b[0].clientHeight):(f.w=m&&c.innerWidth?c.innerWidth:A.width(),f.h=m&&c.innerHeight?c.innerHeight:A.height());return f},unbindEvents:function(){h.wrap&&d(h.wrap)&&h.wrap.unbind(".fb");y.unbind(".fb");A.unbind(".fb")},bindEvents:function(){var b=h.current,f;b&&(A.bind("orientationchange.fb"+(m?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),h.update),(f=b.keys)&&y.bind("keydown.fb",function(l){var n=l.which||l.keyCode,p=l.target||l.srcElement;if(27===n&&h.coming){return !1}!l.ctrlKey&&(!l.altKey&&!l.shiftKey&&!l.metaKey&&(!p||!p.type&&!e(p).is("[contenteditable]")))&&e.each(f,function(r,q){if(1<b.group.length&&q[n]!==x){return h[r](q[n]),l.preventDefault(),!1}if(-1<e.inArray(n,q)){return h[r](),l.preventDefault(),!1}})}),e.fn.mousewheel&&b.mouseWheel&&h.wrap.bind("mousewheel.fb",function(q,r,s,p){for(var n=e(q.target||null),l=!1;n.length&&!l&&!n.is(".fancybox-skin")&&!n.is(".fancybox-wrap");){l=n[0]&&!(n[0].style.overflow&&"hidden"===n[0].style.overflow)&&(n[0].clientWidth&&n[0].scrollWidth>n[0].clientWidth||n[0].clientHeight&&n[0].scrollHeight>n[0].clientHeight),n=e(n).parent()}if(0!==r&&!l&&1<h.group.length&&!b.canShrink){if(0<p||0<s){h.prev(0<p?"down":"left")}else{if(0>p||0>s){h.next(0>p?"up":"right")}}q.preventDefault()}}))},trigger:function(b,n){var l,f=n||h.coming||h.current;if(f){e.isFunction(f[b])&&(l=f[b].apply(f,Array.prototype.slice.call(arguments,1)));if(!1===l){return !1}f.helpers&&e.each(f.helpers,function(q,p){if(p&&h.helpers[q]&&e.isFunction(h.helpers[q][b])){h.helpers[q][b](e.extend(!0,{},h.helpers[q].defaults,p),f)}});y.trigger(b)}},isImage:function(b){return g(b)&&b.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(b){return g(b)&&b.match(/\.(swf)((\?|#).*)?$/i)},_start:function(b){var n={},l,f;b=a(b);l=h.group[b]||null;if(!l){return !1}n=e.extend(!0,{},h.opts,l);l=n.margin;f=n.padding;"number"===e.type(l)&&(n.margin=[l,l,l,l]);"number"===e.type(f)&&(n.padding=[f,f,f,f]);n.modal&&e.extend(!0,n,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});n.autoSize&&(n.autoWidth=n.autoHeight=!0);"auto"===n.width&&(n.autoWidth=!0);"auto"===n.height&&(n.autoHeight=!0);n.group=h.group;n.index=b;h.coming=n;if(!1===h.trigger("beforeLoad")){h.coming=null}else{f=n.type;l=n.href;if(!f){return h.coming=null,h.current&&h.router&&"jumpto"!==h.router?(h.current.index=b,h[h.router](h.direction)):!1}h.isActive=!0;if("image"===f||"swf"===f){n.autoHeight=n.autoWidth=!1,n.scrolling="visible"}"image"===f&&(n.aspectRatio=!0);"iframe"===f&&m&&(n.scrolling="scroll");n.wrap=e(n.tpl.wrap).addClass("fancybox-"+(m?"mobile":"desktop")+" fancybox-type-"+f+" fancybox-tmp "+n.wrapCSS).appendTo(n.parent||"body");e.extend(n,{skin:e(".fancybox-skin",n.wrap),outer:e(".fancybox-outer",n.wrap),inner:e(".fancybox-inner",n.wrap)});e.each(["Top","Right","Bottom","Left"],function(q,p){n.skin.css("padding"+p,j(n.padding[q]))});h.trigger("onReady");if("inline"===f||"html"===f){if(!n.content||!n.content.length){return h._error("content")}}else{if(!l){return h._error("href")}}"image"===f?h._loadImage():"ajax"===f?h._loadAjax():"iframe"===f?h._loadIframe():h._afterLoad()}},_error:function(b){e.extend(h.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:b,content:h.coming.tpl.error});h._afterLoad()},_loadImage:function(){var b=h.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;h.coming.width=this.width/h.opts.pixelRatio;h.coming.height=this.height/h.opts.pixelRatio;h._afterLoad()};b.onerror=function(){this.onload=this.onerror=null;h._error("image")};b.src=h.coming.href;!0!==b.complete&&h.showLoading()},_loadAjax:function(){var b=h.coming;h.showLoading();h.ajaxLoad=e.ajax(e.extend({},b.ajax,{url:b.href,error:function(f,l){h.coming&&"abort"!==l?h._error("ajax",f):h.hideLoading()},success:function(l,f){"success"===f&&(b.content=l,h._afterLoad())}}))},_loadIframe:function(){var b=h.coming,f=e(b.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",m?"auto":b.iframe.scrolling).attr("src",b.href);e(b.wrap).bind("onReset",function(){try{e(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(l){}});b.iframe.preload&&(h.showLoading(),f.one("load",function(){e(this).data("ready",1);m||e(this).bind("load.fb",h.update);e(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();h._afterLoad()}));b.content=f.appendTo(b.inner);b.iframe.preload||h._afterLoad()},_preloadImages:function(){var b=h.group,n=h.current,l=b.length,p=n.preload?Math.min(n.preload,l-1):0,f,q;for(q=1;q<=p;q+=1){f=b[(n.index+q)%l],"image"===f.type&&f.href&&((new Image).src=f.href)}},_afterLoad:function(){var b=h.coming,n=h.current,l,q,p,f,r;h.hideLoading();if(b&&!1!==h.isActive){if(!1===h.trigger("afterLoad",b,n)){b.wrap.stop(!0).trigger("onReset").remove(),h.coming=null}else{n&&(h.trigger("beforeChange",n),n.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());h.unbindEvents();l=b.content;q=b.type;p=b.scrolling;e.extend(h,{wrap:b.wrap,skin:b.skin,outer:b.outer,inner:b.inner,current:b,previous:n});f=b.href;b.wrap.find("a").attr("href",f);switch(q){case"inline":case"ajax":case"html":b.selector?l=e("<div>").html(l).find(b.selector):d(l)&&(l.data("fancybox-placeholder")||l.data("fancybox-placeholder",e('<div class="fancybox-placeholder"></div>').insertAfter(l).hide()),l=l.show().detach(),b.wrap.bind("onReset",function(){e(this).find(l).length&&l.hide().replaceAll(l.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":l=b.tpl.image.replace("{href}",f);break;case"swf":l='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+f+'"></param>',r="",e.each(b.swf,function(t,s){l+='<param name="'+t+'" value="'+s+'"></param>';r+=" "+t+'="'+s+'"'}),l+='<embed src="'+f+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}(!d(l)||!l.parent().is(b.inner))&&b.inner.append(l);h.trigger("beforeShow");b.inner.css("overflow","yes"===p?"scroll":"no"===p?"hidden":p);h._setDimension();h.reposition();h.isOpen=!1;h.coming=null;h.bindEvents();if(h.isOpened){if(n.prevMethod){h.transitions[n.prevMethod]()}}else{e(".fancybox-wrap").not(b.wrap).stop(!0).trigger("onReset").remove()}h.transitions[h.isOpened?b.nextMethod:b.openMethod]();h._preloadImages()}}},_setDimension:function(){var I=h.getViewport(),w=0,v=!1,D=!1,v=h.wrap,O=h.skin,S=h.inner,R=h.current,D=R.width,Q=R.height,L=R.minWidth,r=R.minHeight,J=R.maxWidth,F=R.maxHeight,l=R.scrolling,B=R.scrollOutside?R.scrollbarWidth:0,M=R.margin,K=a(M[1]+M[3]),s=a(M[0]+M[2]),n,E,b,q,C,p,t,f,P;v.add(O).add(S).width("auto").height("auto").removeClass("fancybox-tmp");M=a(O.outerWidth(!0)-O.width());n=a(O.outerHeight(!0)-O.height());E=K+M;b=s+n;q=o(D)?(I.w-E)*a(D)/100:D;C=o(Q)?(I.h-b)*a(Q)/100:Q;if("iframe"===R.type){if(P=R.content,R.autoHeight&&1===P.data("ready")){try{P[0].contentWindow.document.location&&(S.width(q).height(9999),p=P.contents().find("body"),B&&p.css("overflow-x","hidden"),C=p.outerHeight(!0))}catch(N){}}}else{if(R.autoWidth||R.autoHeight){S.addClass("fancybox-tmp"),R.autoWidth||S.width(q),R.autoHeight||S.height(C),R.autoWidth&&(q=S.width()),R.autoHeight&&(C=S.height()),S.removeClass("fancybox-tmp")}}D=a(q);Q=a(C);f=q/C;L=a(o(L)?a(L,"w")-E:L);J=a(o(J)?a(J,"w")-E:J);r=a(o(r)?a(r,"h")-b:r);F=a(o(F)?a(F,"h")-b:F);p=J;t=F;R.fitToView&&(J=Math.min(I.w-E,J),F=Math.min(I.h-b,F));E=I.w-K;s=I.h-s;R.aspectRatio?(D>J&&(D=J,Q=a(D/f)),Q>F&&(Q=F,D=a(Q*f)),D<L&&(D=L,Q=a(D/f)),Q<r&&(Q=r,D=a(Q*f))):(D=Math.max(L,Math.min(D,J)),R.autoHeight&&"iframe"!==R.type&&(S.width(D),Q=S.height()),Q=Math.max(r,Math.min(Q,F)));if(R.fitToView){if(S.width(D).height(Q),v.width(D+M),I=v.width(),K=v.height(),R.aspectRatio){for(;(I>E||K>s)&&(D>L&&Q>r)&&!(19<w++);){Q=Math.max(r,Math.min(F,Q-10)),D=a(Q*f),D<L&&(D=L,Q=a(D/f)),D>J&&(D=J,Q=a(D/f)),S.width(D).height(Q),v.width(D+M),I=v.width(),K=v.height()}}else{D=Math.max(L,Math.min(D,D-(I-E))),Q=Math.max(r,Math.min(Q,Q-(K-s)))}}B&&("auto"===l&&Q<C&&D+M+B<E)&&(D+=B);S.width(D).height(Q);v.width(D+M);I=v.width();K=v.height();v=(I>E||K>s)&&D>L&&Q>r;D=R.aspectRatio?D<p&&Q<t&&D<q&&Q<C:(D<p||Q<t)&&(D<q||Q<C);e.extend(R,{dim:{width:j(I),height:j(K)},origWidth:q,origHeight:C,canShrink:v,canExpand:D,wPadding:M,hPadding:n,wrapSpace:K-O.outerHeight(!0),skinSpace:O.height()-Q});!P&&(R.autoHeight&&Q>r&&Q<F&&!D)&&S.height("auto")},_getPosition:function(b){var n=h.current,l=h.getViewport(),p=n.margin,f=h.wrap.width()+p[1]+p[3],q=h.wrap.height()+p[0]+p[2],p={position:"absolute",top:p[0],left:p[3]};n.autoCenter&&n.fixed&&!b&&q<=l.h&&f<=l.w?p.position="fixed":n.locked||(p.top+=l.y,p.left+=l.x);p.top=j(Math.max(p.top,p.top+(l.h-q)*n.topRatio));p.left=j(Math.max(p.left,p.left+(l.w-f)*n.leftRatio));return p},_afterZoomIn:function(){var b=h.current;b&&(h.isOpen=h.isOpened=!0,h.wrap.css("overflow","visible").addClass("fancybox-opened"),h.update(),(b.closeClick||b.nextClick&&1<h.group.length)&&h.inner.css("cursor","pointer").bind("click.fb",function(f){!e(f.target).is("a")&&!e(f.target).parent().is("a")&&(f.preventDefault(),h[b.closeClick?"close":"next"]())}),b.closeBtn&&e(b.tpl.closeBtn).appendTo(h.skin).bind("click.fb",function(f){f.preventDefault();h.close()}),b.arrows&&1<h.group.length&&((b.loop||0<b.index)&&e(b.tpl.prev).appendTo(h.outer).bind("click.fb",h.prev),(b.loop||b.index<h.group.length-1)&&e(b.tpl.next).appendTo(h.outer).bind("click.fb",h.next)),h.trigger("afterShow"),!b.loop&&b.index===b.group.length-1?h.play(!1):h.opts.autoPlay&&!h.player.isActive&&(h.opts.autoPlay=!1,h.play()))},_afterZoomOut:function(b){b=b||h.current;e(".fancybox-wrap").trigger("onReset").remove();e.extend(h,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});h.trigger("afterClose",b)}});h.transitions={getOrigPosition:function(){var l=h.current,b=l.element,t=l.orig,f={},s=50,r=50,q=l.hPadding,p=l.wPadding,n=h.getViewport();!t&&(l.isDom&&b.is(":visible"))&&(t=b.find("img:first"),t.length||(t=b));d(t)?(f=t.offset(),t.is("img")&&(s=t.outerWidth(),r=t.outerHeight())):(f.top=n.y+(n.h-r)*l.topRatio,f.left=n.x+(n.w-s)*l.leftRatio);if("fixed"===h.wrap.css("position")||l.locked){f.top-=n.y,f.left-=n.x}return f={top:j(f.top-q*l.topRatio),left:j(f.left-p*l.leftRatio),width:j(s+p),height:j(r+q)}},step:function(b,p){var n,q,l=p.prop;q=h.current;var f=q.wrapSpace,r=q.skinSpace;if("width"===l||"height"===l){n=p.end===p.start?1:(b-p.start)/(p.end-p.start),h.isClosing&&(n=1-n),q="width"===l?q.wPadding:q.hPadding,q=b-q,h.skin[l](a("width"===l?q:q-f*n)),h.inner[l](a("width"===l?q:q-f*n-r*n))}},zoomIn:function(){var b=h.current,f=b.pos,p=b.openEffect,l="elastic"===p,n=e.extend({opacity:1},f);delete n.position;l?(f=this.getOrigPosition(),b.openOpacity&&(f.opacity=0.1)):"fade"===p&&(f.opacity=0.1);h.wrap.css(f).animate(n,{duration:"none"===p?0:b.openSpeed,easing:b.openEasing,step:l?this.step:null,complete:h._afterZoomIn})},zoomOut:function(){var b=h.current,n=b.closeEffect,l="elastic"===n,f={opacity:0.1};l&&(f=this.getOrigPosition(),b.closeOpacity&&(f.opacity=0.1));h.wrap.animate(f,{duration:"none"===n?0:b.closeSpeed,easing:b.closeEasing,step:l?this.step:null,complete:h._afterZoomOut})},changeIn:function(){var b=h.current,n=b.nextEffect,l=b.pos,p={opacity:1},f=h.direction,q;l.opacity=0.1;"elastic"===n&&(q="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(l[q]=j(a(l[q])-200),p[q]="+=200px"):(l[q]=j(a(l[q])+200),p[q]="-=200px"));"none"===n?h._afterZoomIn():h.wrap.css(l).animate(p,{duration:b.nextSpeed,easing:b.nextEasing,complete:h._afterZoomIn})},changeOut:function(){var b=h.previous,n=b.prevEffect,l={opacity:0.1},f=h.direction;"elastic"===n&&(l["down"===f||"up"===f?"top":"left"]=("up"===f||"left"===f?"-":"+")+"=200px");b.wrap.animate(l,{duration:"none"===n?0:b.prevSpeed,easing:b.prevEasing,complete:function(){e(this).trigger("onReset").remove()}})}};h.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!m,fixed:!0},overlay:null,fixed:!1,el:e("html"),create:function(b){b=e.extend({},this.defaults,b);this.overlay&&this.close();this.overlay=e('<div class="fancybox-overlay"></div>').appendTo(h.coming?h.coming.parent:b.parent);this.fixed=!1;b.fixed&&h.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(b){var f=this;b=e.extend({},this.defaults,b);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(b);this.fixed||(A.bind("resize.overlay",e.proxy(this.update,this)),this.update());b.closeClick&&this.overlay.bind("click.overlay",function(l){if(e(l.target).hasClass("fancybox-overlay")){return h.isActive?h.close():f.close(),!1}});this.overlay.css(b.css).show()},close:function(){var b,f;A.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(e(".fancybox-margin").removeClass("fancybox-margin"),b=A.scrollTop(),f=A.scrollLeft(),this.el.removeClass("fancybox-lock"),A.scrollTop(b).scrollLeft(f));e(".fancybox-overlay").remove().hide();e.extend(this,{overlay:null,fixed:!1})},update:function(){var b="100%",f;this.overlay.width(b).height("100%");k?(f=Math.max(z.documentElement.offsetWidth,z.body.offsetWidth),y.width()>f&&(b=y.width())):y.width()>A.width()&&(b=y.width());this.overlay.width(b).height(y.height())},onReady:function(b,l){var f=this.overlay;e(".fancybox-overlay").stop(!0,!0);f||this.create(b);b.locked&&(this.fixed&&l.fixed)&&(f||(this.margin=y.height()>A.height()?e("html").css("margin-right").replace("px",""):!1),l.locked=this.overlay.append(l.wrap),l.fixed=!1);!0===b.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(b,n){var f,l;n.locked&&(!1!==this.margin&&(e("*").filter(function(){return"fixed"===e(this).css("position")&&!e(this).hasClass("fancybox-overlay")&&!e(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),f=A.scrollTop(),l=A.scrollLeft(),this.el.addClass("fancybox-lock"),A.scrollTop(f).scrollLeft(l));this.open(b)},onUpdate:function(){this.fixed||this.update()},afterClose:function(b){this.overlay&&!h.coming&&this.overlay.fadeOut(b.speedOut,e.proxy(this.close,this))}};h.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(b){var n=h.current,l=n.title,f=b.type;e.isFunction(l)&&(l=l.call(n.element,n));if(g(l)&&""!==e.trim(l)){n=e('<div class="fancybox-title fancybox-title-'+f+'-wrap">'+l+"</div>");switch(f){case"inside":f=h.skin;break;case"outside":f=h.wrap;break;case"over":f=h.inner;break;default:f=h.skin,n.appendTo("body"),k&&n.width(n.width()),n.wrapInner('<span class="child"></span>'),h.current.margin[2]+=Math.abs(a(n.css("margin-bottom")))}n["top"===b.position?"prependTo":"appendTo"](f)}}};e.fn.fancybox=function(b){var f,p=e(this),l=this.selector||"",n=function(v){var t=e(this).blur(),s=f,r,q;!v.ctrlKey&&(!v.altKey&&!v.shiftKey&&!v.metaKey)&&!t.is(".fancybox-wrap")&&(r=b.groupAttr||"data-fancybox-group",q=t.attr(r),q||(r="rel",q=t.get(0)[r]),q&&(""!==q&&"nofollow"!==q)&&(t=l.length?e(l):p,t=t.filter("["+r+'="'+q+'"]'),s=t.index(this)),b.index=s,!1!==h.open(t,b)&&v.preventDefault())};b=b||{};f=b.index||0;!l||!1===b.live?p.unbind("click.fb-start").bind("click.fb-start",n):y.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",n);this.filter("[data-fancybox-start=1]").trigger("click");return this};y.ready(function(){var b,l;e.scrollbarWidth===x&&(e.scrollbarWidth=function(){var p=e('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),n=p.children(),n=n.innerWidth()-n.height(99).innerWidth();p.remove();return n});if(e.support.fixedPosition===x){b=e.support;l=e('<div style="position:fixed;top:20px;"></div>').appendTo("body");var f=20===l[0].offsetTop||15===l[0].offsetTop;l.remove();b.fixedPosition=f}e.extend(h.defaults,{scrollbarWidth:e.scrollbarWidth(),fixed:e.support.fixedPosition,parent:e("body")});b=e(c).width();i.addClass("fancybox-lock-test");l=e(c).width();i.removeClass("fancybox-lock-test");e("<style type='text/css'>.fancybox-margin{margin-right:"+(l-b)+"px;}</style>").appendTo("head")})})(window,document,jQuery);